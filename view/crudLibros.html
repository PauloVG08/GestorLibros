<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registro de libros</title>
    <!-- Agrega los enlaces a los archivos CSS de Bootstrap -->
    <link
      type="text/css"
      rel="stylesheet"
      href="styles/bootstrap-5.1.3-dist/css/bootstrap.min.css"
    />
    <link
      type="text/css"
      rel="stylesheet"
      href="styles/font_awesome_5_15_3/css/all.min.css"
    />
    <link
      type="text/css"
      rel="stylesheet"
      href="styles/sweetalert2/sweetalert2.min.css"
    />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <link type="text/css" rel="stylesheet" href="styles/estilos.css" />
  </head>

  <body onload="loaded()">
    <div id="tituloNav">
      <nav
        class="navbar navbar-expand-sm justify-content-center navbar-dark"
        id="nav"
      >
        <a class="navbar-brand" href="paginaInicio.html"
          ><img src="resources/SoftBerrys.png" alt="logo" id="logo"
        /></a>
        <div class="collapse navbar-collapse" id="collapsibleNavbar">
          <ul class="navbar-nav">
            <li class="nav-item usuario admin-content">
              <a href="./crudLibros.html" id="openFormLink" class="nav-link active"
                >Gestionar libros</a
              >
            </li>
            <li class="nav-item">
              <a id="openBiblioteca" class="nav-link active" href="./biblioteca.html"
                >Ver Biblioteca</a
              >
            </li>
            <li class="nav-item usuario admin-content">
              <a id="openUsers" class="nav-link active" href="./crudUsuarios.html"
                >Gestionar usuarios</a
              >
            </li>
            </li>
          </ul>
        </div>
        <button
          id="buttonCerrarSesion"
          onclick="cerrarSesion()"
          class="btn btn-light"
        >
          Cerrar Sesión
        </button>
      </nav>
    </div>
    <div class="container mt-5 usuario admin-content">
      <div class="row">
        <div class="col-md-6">
          <h2>Registrar un libro</h2>
          <div id="userForm">
            <input id="id_libro" style="display: none" />
            <div class="form-group">
              <label for="titulo">Título del libro:</label>
              <input
                type="text"
                class="form-control"
                id="titulo"
                placeholder="Ingresa un título"
                required
              />
            </div>
            <div class="form-group">
              <label for="autor">Autor:</label>
              <input
                type="text"
                class="form-control"
                id="autor"
                placeholder="Ingresa un autor"
                required
              />
            </div>
            <div class="form-group">
              <label for="genero">Género:</label>
              <select id="genero" class="form-select" required>
                <option selected disabled>Selecciona un género:</option>
                <option value="Novela">Novela</option>
                <option value="Ciencia_ficcion">Ciencia Ficción</option>
                <option value="Misterio">Misterio</option>
                <option value="Romance">Romance</option>
                <option value="Fantasia">Fantasia</option>
                <option value="Terror">Terror</option>
                <option value="Informativo">Informativo</option>
                <option value="Otra">Otro</option>
              </select>
            </div>
            <div class="form-group">
              <label for="idioma">Idioma:</label>
              <select id="idioma" class="form-select" required>
                <option selected disabled>Selecciona un idioma:</option>
                <option value="Espanol">Español</option>
                <option value="Ingles">Inglés</option>
                <option value="Frances">Francés</option>
                <option value="Otro">Otro</option>
                >
              </select>
            </div>
            <div class="form-group">
              <label for="anio">Año de publicación:</label>
              <input
                type="text"
                class="form-control"
                id="anio"
                placeholder="Ingresa un año a 4 dígitos"
                required
              />
            </div>
            <div class="form-group">
              <label for="derechos">¿Tiene derechos de autor?:</label>
              <select id="derechos" class="form-select" required>
                <option selected disabled>Selecciona una opción:</option>
                <option value="1">Si</option>
                <option value="0">No</option>
                >
              </select>
            </div>
            <div class="form-group">
              <label for="archivoPDF">Selecciona el libro en PDF:</label>
              <input
                type="file"
                class="form-control-file"
                id="archivoPDF"
                accept=".pdf"
                onchange="b64()"
                required
              />
            </div>
            <button class="btn btn-primary mt-2 mb-3" onclick="saveBook()">Guardar</button>
            <button class="btn btn-warning mt-2 mb-3 text-white" onclick="limpiarFormulario()">Limpiar</button>
            <button id="btn_delete" class="btn btn-danger mt-2 mb-3" disabled>Eliminar</button>
          </div>
        </div>
        <div class="col-md-6">
          <h2>Tabla de Libros</h2>
          <!--Campo de búsqueda para la tabla -->
          <input
            type="text"
            class="form-control mb-3"
            id="searchTable"
            placeholder="Buscar en la tabla..."
          />
          <table class="table">
            <thead>
              <tr>
                <th>Título</th>
                <th>Autor</th>
                <th>Género</th>
                <th>Idioma</th>
                <th>Año publicación</th>
                <th></th>
              </tr>
            </thead>
            <tbody id="bookTableBody">
              <!--Los datos se llenarán aquí mediante JavaScript -->
            </tbody>
          </table>
        </div>
      </div>

    </div>

    <footer class="m-0 p-4">
      <p>SoftBerry Company</p>
      <p><a href="mailto:softberry@gmail.com">softberry@gmail.com</a></p>
    </footer>

    <!-- Agrega el enlace al archivo JavaScript de Bootstrap y jQuery (opcional) -->
    <script src="scripts/auth.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="styles/sweetalert2/sweetalert2.all.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="scripts/controllerLibros.js"></script>
    <script src="scripts/controllerLogin.js"></script>
  </body>
</html>
